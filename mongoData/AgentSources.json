[{
  "_id": {
    "$oid": "63f09716dde1f67e76e0f663"
  },
  "id": "irrigator",
  "code": "//This is the initial state of agent irrigator\ntarget_reached(N)\n  :- water_level(L) &\n     (N >= L).\ntarget_count(0).\n!refill.\n\n//Plan library:\n+!irrigate_field\n  :  ((water_level(L) & (L > 0)) & target_field(X,Y))\n  <- .findall(move(A,B),target_field(A,B),List);\n     .min(List,Target);\n     !(Target);\n     .println(Target);\n     ?xx_wot_client(\"irrigator\", X_var_1);\n     invokeAction(\"http://localhost:3000/affordances/smart-farming/irrigator/irrigate\",\"POST\",  X_var_2)[artifact_id(X_var_1)];\n     json.parse(X_var_2, X_var_3);\n     json.get(X_var_3, \"number\", T1);\n     .println(\"Irrigating\");\n     .wait(T1*1000);\n     -+water_level((L - 1));\n     !!irrigate_field.\n+!refill\n  :  true\n  <- .println(\"Refilling\");\n     ?xx_wot_client(\"irrigator\", X_var_4);\n     invokeAction(\"http://localhost:3000/affordances/smart-farming/irrigator/gohome\",\"POST\",  X_var_5)[artifact_id(X_var_4)];\n     json.parse(X_var_5, X_var_6);\n     json.get(X_var_6, \"number\", T);\n     Time = (T + 1);\n     .wait(Time*1000);\n     ?xx_wot_client(\"irrigator\", X_var_7);\n     invokeAction(\"http://localhost:3000/affordances/smart-farming/irrigator/refill\",\"POST\",  _)[artifact_id(X_var_7)];\n     ?xx_wot_client(\"irrigator\",X_var_9);\n     readProperty(\"http://localhost:3000/affordances/smart-farming/irrigator/waterlevel\", X_var_10)[artifact_id(X_var_9)];\n     json.parse(X_var_10, X_var_11);\n          json.get(X_var_11, \"integer\", Level);\n     -+water_level(Level).\n+!move(X,Y)\n  :  true\n  <- json.create_empty_object(X_var_12);\n     json.set(X_var_12,\"integer\", \"x\", X);\n     json.set(X_var_12,\"integer\", \"y\", Y);\n     ?xx_wot_client(\"irrigator\", X_var_13);\n     invokeAction(\"http://localhost:3000/affordances/smart-farming/irrigator/movetofield\",\"POST\", X_var_12,  X_var_14)[artifact_id(X_var_13)];\n     json.parse(X_var_14, X_var_15);\n     json.get(X_var_15, \"number\", T);\n     .wait(T*1000);\n     -target_field(X,Y).\n+!set_new_target(X,Y)\n  :  target_count(N)\n  <- +target_field(X,Y);\n     -+target_count((N + 1)).\n+!set_scan_complete(Complete)\n  :  true\n  <- -+scan_complete(Complete).\n+!irrigate_field\n  :  (water_level(L) & (L == 0))\n  <- .println(\"Empty Water!\");\n     !refill;\n     -irrigating;\n     .println(\"Updating target count to irrigate again\");\n     ?water_level(FilledLevel);\n     ?target_count(N);\n     -+target_count((N - FilledLevel)).\n+target_count(N)\n  :  (target_reached(N) & not irrigating)\n  <- +irrigating;\n     .println(\"I now have enough targets\");\n     .println(\"Irrigation Starts\");\n     !!irrigate_field.\n-!irrigate_field\n  :  true\n  <- .println(\"No more targets, irrigation completed\");\n     !refill;\n     -+target_count(0);\n     -irrigating;\n     .send(soilchecker, achieve, set_irrigation_complete).\n+target_count(N)\n  :  (scan_complete(true) & not irrigating)\n  <- +irrigating;\n     .println(\"While I was working the scan was completed\");\n     .println(\"Irrigation Starts\");\n     !!irrigate_field.\n+scan_complete(true)\n  :  not irrigating\n  <- +irrigating;\n     .println(\"While I was waiting the scan was completed\");\n     .println(\"Irrigation Starts\");\n     !!irrigate_field.\n\n//Auto generated plans:\n{include(\"./templates/wot.asl\")}",
  "xml": "<xml xmlns=\"https://developers.google.com/blockly/xml\">\n  <block type=\"plan_define\" x=\"1490\" y=\"-330\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"0\"></mutation>\n            <field name=\"functor\">irrigate_field</field>\n            <field name=\"END\"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_if\">\n        <value name=\"context\">\n          <block type=\"statement_and_or\">\n            <field name=\"symbol\">&amp;</field>\n            <value name=\"statement1\">\n              <block type=\"statement_and_or\">\n                <field name=\"symbol\">&amp;</field>\n                <value name=\"statement1\">\n                  <block type=\"predicate\">\n                    <mutation terms=\"1\"></mutation>\n                    <field name=\"functor\">water_level</field>\n                    <field name=\"END\">)</field>\n                    <value name=\"term0\">\n                      <block type=\"variable\">\n                        <field name=\"value\">L</field>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n                <value name=\"statement2\">\n                  <block type=\"statement\">\n                    <field name=\"symbol\">&gt;</field>\n                    <value name=\"statement1\">\n                      <block type=\"variable\">\n                        <field name=\"value\">L</field>\n                      </block>\n                    </value>\n                    <value name=\"statement2\">\n                      <block type=\"number\">\n                        <field name=\"value\">0</field>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n              </block>\n            </value>\n            <value name=\"statement2\">\n              <block type=\"predicate\">\n                <mutation terms=\"2\"></mutation>\n                <field name=\"functor\">target_field</field>\n                <field name=\"END\">)</field>\n                <value name=\"term0\">\n                  <block type=\"variable\">\n                    <field name=\"value\">X</field>\n                  </block>\n                </value>\n                <value name=\"term1\">\n                  <block type=\"variable\">\n                    <field name=\"value\">Y</field>\n                  </block>\n                </value>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"action_jason_custom\">\n        <mutation arguments=\"3\"></mutation>\n        <field name=\"actionName\">.findall</field>\n        <field name=\"END\">)</field>\n        <value name=\"argument0\">\n          <block type=\"predicate\">\n            <mutation terms=\"2\"></mutation>\n            <field name=\"functor\">move</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">A</field>\n              </block>\n            </value>\n            <value name=\"term1\">\n              <block type=\"variable\">\n                <field name=\"value\">B</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <value name=\"argument1\">\n          <block type=\"predicate\">\n            <mutation terms=\"2\"></mutation>\n            <field name=\"functor\">target_field</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">A</field>\n              </block>\n            </value>\n            <value name=\"term1\">\n              <block type=\"variable\">\n                <field name=\"value\">B</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <value name=\"argument2\">\n          <block type=\"variable\">\n            <field name=\"value\">List</field>\n          </block>\n        </value>\n        <next>\n          <block type=\"action_jason_custom\">\n            <mutation arguments=\"2\"></mutation>\n            <field name=\"actionName\">.min</field>\n            <field name=\"END\">)</field>\n            <value name=\"argument0\">\n              <block type=\"variable\">\n                <field name=\"value\">List</field>\n              </block>\n            </value>\n            <value name=\"argument1\">\n              <block type=\"variable\">\n                <field name=\"value\">Target</field>\n              </block>\n            </value>\n            <next>\n              <block type=\"action_jason_custom\">\n                <mutation arguments=\"1\"></mutation>\n                <field name=\"actionName\">!</field>\n                <field name=\"END\">)</field>\n                <value name=\"argument0\">\n                  <block type=\"variable\">\n                    <field name=\"value\">Target</field>\n                  </block>\n                </value>\n                <next>\n                  <block type=\"action_print\">\n                    <value name=\"message\">\n                      <block type=\"variable\">\n                        <field name=\"value\">Target</field>\n                      </block>\n                    </value>\n                    <next>\n                      <block type=\"affordance_use\">\n                        <value name=\"affordance\">\n                          <block type=\"affordance_action\">\n                            <mutation xmlns=\"http://www.w3.org/1999/xhtml\" method=\"POST\" url=\"http://localhost:3000/affordances/smart-farming/irrigator/irrigate\" output_type=\"number\" input=\"false\" output=\"true\"></mutation>\n                            <field name=\"thingId\">irrigator</field>\n                            <field name=\"affordanceName\">irrigate</field>\n                            <value name=\"output\">\n                              <block type=\"variable\">\n                                <field name=\"value\">T1</field>\n                              </block>\n                            </value>\n                          </block>\n                        </value>\n                        <next>\n                          <block type=\"action_print\">\n                            <value name=\"message\">\n                              <block type=\"string\">\n                                <field name=\"value\">Irrigating</field>\n                              </block>\n                            </value>\n                            <next>\n                              <block type=\"action_wait\">\n                                <value name=\"seconds\">\n                                  <block type=\"variable\">\n                                    <field name=\"value\">T1</field>\n                                  </block>\n                                </value>\n                                <next>\n                                  <block type=\"belief_update\">\n                                    <value name=\"belief\">\n                                      <block type=\"predicate\">\n                                        <mutation terms=\"1\"></mutation>\n                                        <field name=\"functor\">water_level</field>\n                                        <field name=\"END\">)</field>\n                                        <value name=\"term0\">\n                                          <block type=\"operation\">\n                                            <field name=\"symbol\">-</field>\n                                            <value name=\"var1\">\n                                              <block type=\"variable\">\n                                                <field name=\"value\">L</field>\n                                              </block>\n                                            </value>\n                                            <value name=\"var2\">\n                                              <block type=\"number\">\n                                                <field name=\"value\">1</field>\n                                              </block>\n                                            </value>\n                                          </block>\n                                        </value>\n                                      </block>\n                                    </value>\n                                    <next>\n                                      <block type=\"goal_add_parallel\">\n                                        <value name=\"goal\">\n                                          <block type=\"predicate\">\n                                            <mutation terms=\"0\"></mutation>\n                                            <field name=\"functor\">irrigate_field</field>\n                                            <field name=\"END\"></field>\n                                          </block>\n                                        </value>\n                                      </block>\n                                    </next>\n                                  </block>\n                                </next>\n                              </block>\n                            </next>\n                          </block>\n                        </next>\n                      </block>\n                    </next>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"init_agent\" deletable=\"false\" x=\"10\" y=\"-230\">\n    <field name=\"name\">irrigator</field>\n    <statement name=\"config\">\n      <block type=\"init_rule\">\n        <value name=\"rule\">\n          <block type=\"rule\">\n            <mutation variables=\"1\"></mutation>\n            <field name=\"functor\">target_reached</field>\n            <value name=\"variable0\">\n              <block type=\"variable\">\n                <field name=\"value\">N</field>\n              </block>\n            </value>\n            <value name=\"rule_body\">\n              <block type=\"rule_body\">\n                <mutation statements=\"2\"></mutation>\n                <value name=\"statement0\">\n                  <block type=\"predicate\">\n                    <mutation terms=\"1\"></mutation>\n                    <field name=\"functor\">water_level</field>\n                    <field name=\"END\">)</field>\n                    <value name=\"term0\">\n                      <block type=\"variable\">\n                        <field name=\"value\">L</field>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n                <value name=\"statement1\">\n                  <block type=\"statement\">\n                    <field name=\"symbol\">&gt;=</field>\n                    <value name=\"statement1\">\n                      <block type=\"variable\">\n                        <field name=\"value\">N</field>\n                      </block>\n                    </value>\n                    <value name=\"statement2\">\n                      <block type=\"variable\">\n                        <field name=\"value\">L</field>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n              </block>\n            </value>\n          </block>\n        </value>\n        <next>\n          <block type=\"init_belief\">\n            <value name=\"belief\">\n              <block type=\"belief\">\n                <mutation atoms=\"1\"></mutation>\n                <field name=\"functor\">target_count</field>\n                <field name=\"END\">)</field>\n                <value name=\"atom0\">\n                  <block type=\"atom\">\n                    <field name=\"value\">0</field>\n                  </block>\n                </value>\n              </block>\n            </value>\n            <next>\n              <block type=\"init_goal\">\n                <value name=\"goal\">\n                  <block type=\"belief\">\n                    <mutation atoms=\"0\"></mutation>\n                    <field name=\"functor\">refill</field>\n                    <field name=\"END\"></field>\n                  </block>\n                </value>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"890\" y=\"-250\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"0\"></mutation>\n            <field name=\"functor\">refill</field>\n            <field name=\"END\"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_always\"></block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"action_print\">\n        <value name=\"message\">\n          <block type=\"string\">\n            <field name=\"value\">Refilling</field>\n          </block>\n        </value>\n        <next>\n          <block type=\"affordance_use\">\n            <value name=\"affordance\">\n              <block type=\"affordance_action\">\n                <mutation xmlns=\"http://www.w3.org/1999/xhtml\" method=\"POST\" url=\"http://localhost:3000/affordances/smart-farming/irrigator/gohome\" output_type=\"number\" input=\"false\" output=\"true\"></mutation>\n                <field name=\"thingId\">irrigator</field>\n                <field name=\"affordanceName\">goHome</field>\n                <value name=\"output\">\n                  <block type=\"variable\">\n                    <field name=\"value\">T</field>\n                  </block>\n                </value>\n              </block>\n            </value>\n            <next>\n              <block type=\"assign_variable\">\n                <value name=\"variable\">\n                  <block type=\"variable\">\n                    <field name=\"value\">Time</field>\n                  </block>\n                </value>\n                <value name=\"operation\">\n                  <block type=\"operation\">\n                    <field name=\"symbol\">+</field>\n                    <value name=\"var1\">\n                      <block type=\"variable\">\n                        <field name=\"value\">T</field>\n                      </block>\n                    </value>\n                    <value name=\"var2\">\n                      <block type=\"number\">\n                        <field name=\"value\">1</field>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n                <next>\n                  <block type=\"action_wait\">\n                    <value name=\"seconds\">\n                      <block type=\"variable\">\n                        <field name=\"value\">Time</field>\n                      </block>\n                    </value>\n                    <next>\n                      <block type=\"affordance_use\">\n                        <value name=\"affordance\">\n                          <block type=\"affordance_action\">\n                            <mutation xmlns=\"http://www.w3.org/1999/xhtml\" method=\"POST\" url=\"http://localhost:3000/affordances/smart-farming/irrigator/refill\" output_type=\"null\" input=\"false\" output=\"false\"></mutation>\n                            <field name=\"thingId\">irrigator</field>\n                            <field name=\"affordanceName\">refillWater</field>\n                          </block>\n                        </value>\n                        <next>\n                          <block type=\"affordance_use\">\n                            <value name=\"affordance\">\n                              <block type=\"affordance_property\">\n                                <mutation xmlns=\"http://www.w3.org/1999/xhtml\" method=\"GET\" url=\"http://localhost:3000/affordances/smart-farming/irrigator/waterlevel\" output_type=\"integer\"></mutation>\n                                <field name=\"thingId\">irrigator</field>\n                                <field name=\"affordanceName\">waterLevel</field>\n                                <value name=\"result\">\n                                  <block type=\"variable\">\n                                    <field name=\"value\">Level</field>\n                                  </block>\n                                </value>\n                              </block>\n                            </value>\n                            <next>\n                              <block type=\"belief_update\">\n                                <value name=\"belief\">\n                                  <block type=\"predicate\">\n                                    <mutation terms=\"1\"></mutation>\n                                    <field name=\"functor\">water_level</field>\n                                    <field name=\"END\">)</field>\n                                    <value name=\"term0\">\n                                      <block type=\"variable\">\n                                        <field name=\"value\">Level</field>\n                                      </block>\n                                    </value>\n                                  </block>\n                                </value>\n                              </block>\n                            </next>\n                          </block>\n                        </next>\n                      </block>\n                    </next>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"2150\" y=\"-130\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"2\"></mutation>\n            <field name=\"functor\">move</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">X</field>\n              </block>\n            </value>\n            <value name=\"term1\">\n              <block type=\"variable\">\n                <field name=\"value\">Y</field>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_always\"></block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"affordance_use\">\n        <value name=\"affordance\">\n          <block type=\"affordance_action\">\n            <mutation xmlns=\"http://www.w3.org/1999/xhtml\" method=\"POST\" url=\"http://localhost:3000/affordances/smart-farming/irrigator/movetofield\" output_type=\"number\" input=\"true\" output=\"true\"></mutation>\n            <field name=\"thingId\">irrigator</field>\n            <field name=\"affordanceName\">moveToField</field>\n            <value name=\"input\">\n              <block type=\"object_create\">\n                <statement name=\"fields\">\n                  <block type=\"object_field\">\n                    <field name=\"key\">x</field>\n                    <field name=\"type\">integer</field>\n                    <value name=\"value\">\n                      <block type=\"variable\">\n                        <field name=\"value\">X</field>\n                      </block>\n                    </value>\n                    <next>\n                      <block type=\"object_field\">\n                        <field name=\"key\">y</field>\n                        <field name=\"type\">integer</field>\n                        <value name=\"value\">\n                          <block type=\"variable\">\n                            <field name=\"value\">Y</field>\n                          </block>\n                        </value>\n                      </block>\n                    </next>\n                  </block>\n                </statement>\n              </block>\n            </value>\n            <value name=\"output\">\n              <block type=\"variable\">\n                <field name=\"value\">T</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <next>\n          <block type=\"action_wait\">\n            <value name=\"seconds\">\n              <block type=\"variable\">\n                <field name=\"value\">T</field>\n              </block>\n            </value>\n            <next>\n              <block type=\"belief_remove\">\n                <value name=\"belief\">\n                  <block type=\"predicate\">\n                    <mutation terms=\"2\"></mutation>\n                    <field name=\"functor\">target_field</field>\n                    <field name=\"END\">)</field>\n                    <value name=\"term0\">\n                      <block type=\"variable\">\n                        <field name=\"value\">X</field>\n                      </block>\n                    </value>\n                    <value name=\"term1\">\n                      <block type=\"variable\">\n                        <field name=\"value\">Y</field>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"10\" y=\"30\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"2\"></mutation>\n            <field name=\"functor\">set_new_target</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">X</field>\n              </block>\n            </value>\n            <value name=\"term1\">\n              <block type=\"variable\">\n                <field name=\"value\">Y</field>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_if\">\n        <value name=\"context\">\n          <block type=\"predicate\">\n            <mutation terms=\"1\"></mutation>\n            <field name=\"functor\">target_count</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">N</field>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"belief_add\">\n        <value name=\"belief\">\n          <block type=\"predicate\">\n            <mutation terms=\"2\"></mutation>\n            <field name=\"functor\">target_field</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">X</field>\n              </block>\n            </value>\n            <value name=\"term1\">\n              <block type=\"variable\">\n                <field name=\"value\">Y</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <next>\n          <block type=\"belief_update\">\n            <value name=\"belief\">\n              <block type=\"predicate\">\n                <mutation terms=\"1\"></mutation>\n                <field name=\"functor\">target_count</field>\n                <field name=\"END\">)</field>\n                <value name=\"term0\">\n                  <block type=\"operation\">\n                    <field name=\"symbol\">+</field>\n                    <value name=\"var1\">\n                      <block type=\"variable\">\n                        <field name=\"value\">N</field>\n                      </block>\n                    </value>\n                    <value name=\"var2\">\n                      <block type=\"number\">\n                        <field name=\"value\">1</field>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n              </block>\n            </value>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"10\" y=\"270\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"1\"></mutation>\n            <field name=\"functor\">set_scan_complete</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">Complete</field>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_always\"></block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"belief_update\">\n        <value name=\"belief\">\n          <block type=\"predicate\">\n            <mutation terms=\"1\"></mutation>\n            <field name=\"functor\">scan_complete</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">Complete</field>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"1490\" y=\"290\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"0\"></mutation>\n            <field name=\"functor\">irrigate_field</field>\n            <field name=\"END\"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_if\">\n        <value name=\"context\">\n          <block type=\"statement_and_or\">\n            <field name=\"symbol\">&amp;</field>\n            <value name=\"statement1\">\n              <block type=\"predicate\">\n                <mutation terms=\"1\"></mutation>\n                <field name=\"functor\">water_level</field>\n                <field name=\"END\">)</field>\n                <value name=\"term0\">\n                  <block type=\"variable\">\n                    <field name=\"value\">L</field>\n                  </block>\n                </value>\n              </block>\n            </value>\n            <value name=\"statement2\">\n              <block type=\"statement\">\n                <field name=\"symbol\">==</field>\n                <value name=\"statement1\">\n                  <block type=\"variable\">\n                    <field name=\"value\">L</field>\n                  </block>\n                </value>\n                <value name=\"statement2\">\n                  <block type=\"number\">\n                    <field name=\"value\">0</field>\n                  </block>\n                </value>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"action_print\">\n        <value name=\"message\">\n          <block type=\"string\">\n            <field name=\"value\">Empty Water!</field>\n          </block>\n        </value>\n        <next>\n          <block type=\"goal_add\">\n            <value name=\"goal\">\n              <block type=\"predicate\">\n                <mutation terms=\"0\"></mutation>\n                <field name=\"functor\">refill</field>\n                <field name=\"END\"></field>\n              </block>\n            </value>\n            <next>\n              <block type=\"belief_remove\">\n                <value name=\"belief\">\n                  <block type=\"predicate\">\n                    <mutation terms=\"0\"></mutation>\n                    <field name=\"functor\">irrigating</field>\n                    <field name=\"END\"></field>\n                  </block>\n                </value>\n                <next>\n                  <block type=\"action_print\">\n                    <value name=\"message\">\n                      <block type=\"string\">\n                        <field name=\"value\">Updating target count to irrigate again</field>\n                      </block>\n                    </value>\n                    <next>\n                      <block type=\"goal_add_test\">\n                        <value name=\"goal\">\n                          <block type=\"predicate\">\n                            <mutation terms=\"1\"></mutation>\n                            <field name=\"functor\">water_level</field>\n                            <field name=\"END\">)</field>\n                            <value name=\"term0\">\n                              <block type=\"variable\">\n                                <field name=\"value\">FilledLevel</field>\n                              </block>\n                            </value>\n                          </block>\n                        </value>\n                        <next>\n                          <block type=\"goal_add_test\">\n                            <value name=\"goal\">\n                              <block type=\"predicate\">\n                                <mutation terms=\"1\"></mutation>\n                                <field name=\"functor\">target_count</field>\n                                <field name=\"END\">)</field>\n                                <value name=\"term0\">\n                                  <block type=\"variable\">\n                                    <field name=\"value\">N</field>\n                                  </block>\n                                </value>\n                              </block>\n                            </value>\n                            <next>\n                              <block type=\"belief_update\">\n                                <value name=\"belief\">\n                                  <block type=\"predicate\">\n                                    <mutation terms=\"1\"></mutation>\n                                    <field name=\"functor\">target_count</field>\n                                    <field name=\"END\">)</field>\n                                    <value name=\"term0\">\n                                      <block type=\"operation\">\n                                        <field name=\"symbol\">-</field>\n                                        <value name=\"var1\">\n                                          <block type=\"variable\">\n                                            <field name=\"value\">N</field>\n                                          </block>\n                                        </value>\n                                        <value name=\"var2\">\n                                          <block type=\"variable\">\n                                            <field name=\"value\">FilledLevel</field>\n                                          </block>\n                                        </value>\n                                      </block>\n                                    </value>\n                                  </block>\n                                </value>\n                              </block>\n                            </next>\n                          </block>\n                        </next>\n                      </block>\n                    </next>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"10\" y=\"450\">\n    <value name=\"trigger\">\n      <block type=\"trigger_belief_add_remove\">\n        <field name=\"option\">+</field>\n        <value name=\"belief\">\n          <block type=\"predicate\">\n            <mutation terms=\"1\"></mutation>\n            <field name=\"functor\">target_count</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">N</field>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_if\">\n        <value name=\"context\">\n          <block type=\"statement_and_or\">\n            <field name=\"symbol\">&amp;</field>\n            <value name=\"statement1\">\n              <block type=\"predicate\">\n                <mutation terms=\"1\"></mutation>\n                <field name=\"functor\">target_reached</field>\n                <field name=\"END\">)</field>\n                <value name=\"term0\">\n                  <block type=\"variable\">\n                    <field name=\"value\">N</field>\n                  </block>\n                </value>\n              </block>\n            </value>\n            <value name=\"statement2\">\n              <block type=\"no_predicate\">\n                <value name=\"predicate\">\n                  <block type=\"predicate\">\n                    <mutation terms=\"0\"></mutation>\n                    <field name=\"functor\">irrigating</field>\n                    <field name=\"END\"></field>\n                  </block>\n                </value>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"belief_add\">\n        <value name=\"belief\">\n          <block type=\"predicate\">\n            <mutation terms=\"0\"></mutation>\n            <field name=\"functor\">irrigating</field>\n            <field name=\"END\"></field>\n          </block>\n        </value>\n        <next>\n          <block type=\"action_print\">\n            <value name=\"message\">\n              <block type=\"string\">\n                <field name=\"value\">I now have enough targets</field>\n              </block>\n            </value>\n            <next>\n              <block type=\"action_print\">\n                <value name=\"message\">\n                  <block type=\"string\">\n                    <field name=\"value\">Irrigation Starts</field>\n                  </block>\n                </value>\n                <next>\n                  <block type=\"goal_add_parallel\">\n                    <value name=\"goal\">\n                      <block type=\"predicate\">\n                        <mutation terms=\"0\"></mutation>\n                        <field name=\"functor\">irrigate_field</field>\n                        <field name=\"END\"></field>\n                      </block>\n                    </value>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"2150\" y=\"390\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">-!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"0\"></mutation>\n            <field name=\"functor\">irrigate_field</field>\n            <field name=\"END\"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_always\"></block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"action_print\">\n        <value name=\"message\">\n          <block type=\"string\">\n            <field name=\"value\">No more targets, irrigation completed</field>\n          </block>\n        </value>\n        <next>\n          <block type=\"goal_add\">\n            <value name=\"goal\">\n              <block type=\"predicate\">\n                <mutation terms=\"0\"></mutation>\n                <field name=\"functor\">refill</field>\n                <field name=\"END\"></field>\n              </block>\n            </value>\n            <next>\n              <block type=\"belief_update\">\n                <value name=\"belief\">\n                  <block type=\"predicate\">\n                    <mutation terms=\"1\"></mutation>\n                    <field name=\"functor\">target_count</field>\n                    <field name=\"END\">)</field>\n                    <value name=\"term0\">\n                      <block type=\"number\">\n                        <field name=\"value\">0</field>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n                <next>\n                  <block type=\"belief_remove\">\n                    <value name=\"belief\">\n                      <block type=\"predicate\">\n                        <mutation terms=\"0\"></mutation>\n                        <field name=\"functor\">irrigating</field>\n                        <field name=\"END\"></field>\n                      </block>\n                    </value>\n                    <next>\n                      <block type=\"send_agent_message\">\n                        <field name=\"receiver\">soilchecker</field>\n                        <field name=\"illocutionary_force\">achieve</field>\n                        <value name=\"message\">\n                          <block type=\"predicate\">\n                            <mutation terms=\"0\"></mutation>\n                            <field name=\"functor\">set_irrigation_complete</field>\n                            <field name=\"END\"></field>\n                          </block>\n                        </value>\n                      </block>\n                    </next>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"10\" y=\"710\">\n    <value name=\"trigger\">\n      <block type=\"trigger_belief_add_remove\">\n        <field name=\"option\">+</field>\n        <value name=\"belief\">\n          <block type=\"predicate\">\n            <mutation terms=\"1\"></mutation>\n            <field name=\"functor\">target_count</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">N</field>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_if\">\n        <value name=\"context\">\n          <block type=\"statement_and_or\">\n            <field name=\"symbol\">&amp;</field>\n            <value name=\"statement1\">\n              <block type=\"predicate\">\n                <mutation terms=\"1\"></mutation>\n                <field name=\"functor\">scan_complete</field>\n                <field name=\"END\">)</field>\n                <value name=\"term0\">\n                  <block type=\"true_false\">\n                    <field name=\"value\">true</field>\n                  </block>\n                </value>\n              </block>\n            </value>\n            <value name=\"statement2\">\n              <block type=\"no_predicate\">\n                <value name=\"predicate\">\n                  <block type=\"predicate\">\n                    <mutation terms=\"0\"></mutation>\n                    <field name=\"functor\">irrigating</field>\n                    <field name=\"END\"></field>\n                  </block>\n                </value>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"belief_add\">\n        <value name=\"belief\">\n          <block type=\"predicate\">\n            <mutation terms=\"0\"></mutation>\n            <field name=\"functor\">irrigating</field>\n            <field name=\"END\"></field>\n          </block>\n        </value>\n        <next>\n          <block type=\"action_print\">\n            <value name=\"message\">\n              <block type=\"string\">\n                <field name=\"value\">While I was working the scan was completed</field>\n              </block>\n            </value>\n            <next>\n              <block type=\"action_print\">\n                <value name=\"message\">\n                  <block type=\"string\">\n                    <field name=\"value\">Irrigation Starts</field>\n                  </block>\n                </value>\n                <next>\n                  <block type=\"goal_add_parallel\">\n                    <value name=\"goal\">\n                      <block type=\"predicate\">\n                        <mutation terms=\"0\"></mutation>\n                        <field name=\"functor\">irrigate_field</field>\n                        <field name=\"END\"></field>\n                      </block>\n                    </value>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"10\" y=\"990\">\n    <value name=\"trigger\">\n      <block type=\"trigger_belief_add_remove\">\n        <field name=\"option\">+</field>\n        <value name=\"belief\">\n          <block type=\"predicate\">\n            <mutation terms=\"1\"></mutation>\n            <field name=\"functor\">scan_complete</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"true_false\">\n                <field name=\"value\">true</field>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_if\">\n        <value name=\"context\">\n          <block type=\"no_predicate\">\n            <value name=\"predicate\">\n              <block type=\"predicate\">\n                <mutation terms=\"0\"></mutation>\n                <field name=\"functor\">irrigating</field>\n                <field name=\"END\"></field>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"belief_add\">\n        <value name=\"belief\">\n          <block type=\"predicate\">\n            <mutation terms=\"0\"></mutation>\n            <field name=\"functor\">irrigating</field>\n            <field name=\"END\"></field>\n          </block>\n        </value>\n        <next>\n          <block type=\"action_print\">\n            <value name=\"message\">\n              <block type=\"string\">\n                <field name=\"value\">While I was waiting the scan was completed</field>\n              </block>\n            </value>\n            <next>\n              <block type=\"action_print\">\n                <value name=\"message\">\n                  <block type=\"string\">\n                    <field name=\"value\">Irrigation Starts</field>\n                  </block>\n                </value>\n                <next>\n                  <block type=\"goal_add_parallel\">\n                    <value name=\"goal\">\n                      <block type=\"predicate\">\n                        <mutation terms=\"0\"></mutation>\n                        <field name=\"functor\">irrigate_field</field>\n                        <field name=\"END\"></field>\n                      </block>\n                    </value>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n</xml>",
  "__v": 0
},{
  "_id": {
    "$oid": "63f00abd1f95770f6daefb19"
  },
  "id": "soilchecker",
  "code": "//This is the initial state of agent soilchecker\nx_in_bound(X)\n  :- x_max(XMax) &\n     (X <= XMax) &\n     (X >= 0).\ny_in_bound(Y)\n  :- y_max(YMax) &\n     (Y <= YMax) &\n     (Y >= 0).\nsoil_to_irrigate(H)\n  :- (H <= 0).\n!check_size.\n\n//Plan library:\n+!check_size\n  :  true\n  <- .println(\"I assume that I'm always starting in 0,0\");\n     .println(\"I assume that 0 is the minimum for X and Y\");\n     ?xx_wot_client(\"soilChecker\",X_var_1);\n     readProperty(\"http://localhost:3000/affordances/smart-farming/soilChecker/boundaries\", X_var_2)[artifact_id(X_var_1)];\n     json.parse(X_var_2, X_var_3);\n     json.get(X_var_3, \"integer\", \"xMin\", XMin);\n     json.get(X_var_3, \"integer\", \"xMax\", XMax);\n     json.get(X_var_3, \"integer\", \"yMin\", YMin);\n     json.get(X_var_3, \"integer\", \"yMax\", YMax);\n     +x_max(XMax);\n     +y_max(YMax);\n     !!scan_field.\n+!set_irrigation_complete\n  :  true\n  <- +irrigation_complete.\n+!scan_row(Y,Direction)\n  :  (y_in_bound(Y) & (Direction == 1))\n  <- !scan_column(Y,0,Direction);\n     !scan_row((Y + 1),(Direction * -1)).\n+!scan_field\n  :  true\n  <- ?xx_wot_client(\"soilChecker\", X_var_4);\n     invokeAction(\"http://localhost:3000/affordances/smart-farming/soilChecker/gohome\",\"POST\",  X_var_5)[artifact_id(X_var_4)];\n     json.parse(X_var_5, X_var_6);\n     json.get(X_var_6, \"number\", T);\n     .wait(T*1000);\n     .send(irrigator, achieve, set_scan_complete(false));\n     !scan_row(0,1).\n+!scan_column(Y,X,Direction)\n  :  x_in_bound(X)\n  <- json.create_empty_object(X_var_7);\n     json.set(X_var_7,\"integer\", \"x\", X);\n     json.set(X_var_7,\"integer\", \"y\", Y);\n     ?xx_wot_client(\"soilChecker\", X_var_8);\n     invokeAction(\"http://localhost:3000/affordances/smart-farming/soilChecker/movetofield\",\"POST\", X_var_7,  X_var_9)[artifact_id(X_var_8)];\n     json.parse(X_var_9, X_var_10);\n     json.get(X_var_10, \"number\", T);\n     .wait(T*1000);\n     !check_current_soil;\n     !scan_column(Y,(X + Direction),Direction).\n+!scan_row(Y,Direction)\n  :  (y_in_bound(Y) & (Direction == -1))\n  <- ?x_max(X);\n     !scan_column(Y,X,Direction);\n     !scan_row((Y + 1),(Direction * -1)).\n+!check_current_soil\n  :  true\n  <- ?xx_wot_client(\"soilChecker\", X_var_11);\n     invokeAction(\"http://localhost:3000/affordances/smart-farming/soilChecker/checksoil\",\"POST\",  X_var_12)[artifact_id(X_var_11)];\n     json.parse(X_var_12, X_var_13);\njson.get(X_var_13, \"integer\", \"humidity\", H);\n     !evaluate_soil(H).\n+!scan_row(Y,_)\n  :  not y_in_bound(Y)\n  <- ?xx_wot_client(\"soilChecker\", X_var_14);\n     invokeAction(\"http://localhost:3000/affordances/smart-farming/soilChecker/gohome\",\"POST\",  X_var_15)[artifact_id(X_var_14)];\n     json.parse(X_var_15, X_var_16);\n     json.get(X_var_16, \"number\", T);\n     .wait(T*1000);\n     .println(\"Done Scanning!\");\n     .send(irrigator, achieve, set_scan_complete(true));\n     !!wait_for_new_scan.\n+!evaluate_soil(H)\n  :  soil_to_irrigate(H)\n  <- ?xx_wot_client(\"soilChecker\",X_var_17);\n     readProperty(\"http://localhost:3000/affordances/smart-farming/soilChecker/position\", X_var_18)[artifact_id(X_var_17)];\n     json.parse(X_var_18, X_var_19);\n     json.get(X_var_19, \"integer\", \"x\", X);\n     json.get(X_var_19, \"integer\", \"y\", Y);\n     .println(\"NOT OK\");\n     .send(irrigator, achieve, set_new_target(X,Y)).\n+!scan_column(_,X,_)\n  :  not x_in_bound(X)\n  <- .println(\"Scanned a row\").\n+!wait_for_new_scan\n  :  irrigation_complete\n  <- -irrigation_complete;\n     !!scan_field.\n+!evaluate_soil(H)\n  :  true\n  <- .println(\"OK\").\n+!wait_for_new_scan\n  :  true\n  <- .wait(5*1000);\n     !!wait_for_new_scan.\n\n//Auto generated plans:\n{include(\"./templates/wot.asl\")}",
  "xml": "<xml xmlns=\"https://developers.google.com/blockly/xml\">\n  <block type=\"init_agent\" deletable=\"false\" x=\"30\" y=\"-410\">\n    <field name=\"name\">soilchecker</field>\n    <statement name=\"config\">\n      <block type=\"init_rule\">\n        <value name=\"rule\">\n          <block type=\"rule\">\n            <mutation variables=\"1\"></mutation>\n            <field name=\"functor\">x_in_bound</field>\n            <value name=\"variable0\">\n              <block type=\"variable\">\n                <field name=\"value\">X</field>\n              </block>\n            </value>\n            <value name=\"rule_body\">\n              <block type=\"rule_body\">\n                <mutation statements=\"3\"></mutation>\n                <value name=\"statement0\">\n                  <block type=\"predicate\">\n                    <mutation terms=\"1\"></mutation>\n                    <field name=\"functor\">x_max</field>\n                    <field name=\"END\">)</field>\n                    <value name=\"term0\">\n                      <block type=\"variable\">\n                        <field name=\"value\">XMax</field>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n                <value name=\"statement1\">\n                  <block type=\"statement\">\n                    <field name=\"symbol\">&lt;=</field>\n                    <value name=\"statement1\">\n                      <block type=\"variable\">\n                        <field name=\"value\">X</field>\n                      </block>\n                    </value>\n                    <value name=\"statement2\">\n                      <block type=\"variable\">\n                        <field name=\"value\">XMax</field>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n                <value name=\"statement2\">\n                  <block type=\"statement\">\n                    <field name=\"symbol\">&gt;=</field>\n                    <value name=\"statement1\">\n                      <block type=\"variable\">\n                        <field name=\"value\">X</field>\n                      </block>\n                    </value>\n                    <value name=\"statement2\">\n                      <block type=\"number\">\n                        <field name=\"value\">0</field>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n              </block>\n            </value>\n          </block>\n        </value>\n        <next>\n          <block type=\"init_rule\">\n            <value name=\"rule\">\n              <block type=\"rule\">\n                <mutation variables=\"1\"></mutation>\n                <field name=\"functor\">y_in_bound</field>\n                <value name=\"variable0\">\n                  <block type=\"variable\">\n                    <field name=\"value\">Y</field>\n                  </block>\n                </value>\n                <value name=\"rule_body\">\n                  <block type=\"rule_body\">\n                    <mutation statements=\"3\"></mutation>\n                    <value name=\"statement0\">\n                      <block type=\"predicate\">\n                        <mutation terms=\"1\"></mutation>\n                        <field name=\"functor\">y_max</field>\n                        <field name=\"END\">)</field>\n                        <value name=\"term0\">\n                          <block type=\"variable\">\n                            <field name=\"value\">YMax</field>\n                          </block>\n                        </value>\n                      </block>\n                    </value>\n                    <value name=\"statement1\">\n                      <block type=\"statement\">\n                        <field name=\"symbol\">&lt;=</field>\n                        <value name=\"statement1\">\n                          <block type=\"variable\">\n                            <field name=\"value\">Y</field>\n                          </block>\n                        </value>\n                        <value name=\"statement2\">\n                          <block type=\"variable\">\n                            <field name=\"value\">YMax</field>\n                          </block>\n                        </value>\n                      </block>\n                    </value>\n                    <value name=\"statement2\">\n                      <block type=\"statement\">\n                        <field name=\"symbol\">&gt;=</field>\n                        <value name=\"statement1\">\n                          <block type=\"variable\">\n                            <field name=\"value\">Y</field>\n                          </block>\n                        </value>\n                        <value name=\"statement2\">\n                          <block type=\"number\">\n                            <field name=\"value\">0</field>\n                          </block>\n                        </value>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n              </block>\n            </value>\n            <next>\n              <block type=\"init_rule\">\n                <value name=\"rule\">\n                  <block type=\"rule\">\n                    <mutation variables=\"1\"></mutation>\n                    <field name=\"functor\">soil_to_irrigate</field>\n                    <value name=\"variable0\">\n                      <block type=\"variable\">\n                        <field name=\"value\">H</field>\n                      </block>\n                    </value>\n                    <value name=\"rule_body\">\n                      <block type=\"rule_body\">\n                        <mutation statements=\"1\"></mutation>\n                        <value name=\"statement0\">\n                          <block type=\"statement\">\n                            <field name=\"symbol\">&lt;=</field>\n                            <value name=\"statement1\">\n                              <block type=\"variable\">\n                                <field name=\"value\">H</field>\n                              </block>\n                            </value>\n                            <value name=\"statement2\">\n                              <block type=\"number\">\n                                <field name=\"value\">0</field>\n                              </block>\n                            </value>\n                          </block>\n                        </value>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n                <next>\n                  <block type=\"init_goal\">\n                    <value name=\"goal\">\n                      <block type=\"belief\">\n                        <mutation atoms=\"0\"></mutation>\n                        <field name=\"functor\">check_size</field>\n                        <field name=\"END\"></field>\n                      </block>\n                    </value>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"30\" y=\"110\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"0\"></mutation>\n            <field name=\"functor\">check_size</field>\n            <field name=\"END\"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_always\"></block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"action_print\">\n        <value name=\"message\">\n          <block type=\"string\">\n            <field name=\"value\">I assume that I'm always starting in 0,0</field>\n          </block>\n        </value>\n        <next>\n          <block type=\"action_print\">\n            <value name=\"message\">\n              <block type=\"string\">\n                <field name=\"value\">I assume that 0 is the minimum for X and Y</field>\n              </block>\n            </value>\n            <next>\n              <block type=\"affordance_use\">\n                <value name=\"affordance\">\n                  <block type=\"affordance_property\">\n                    <mutation xmlns=\"http://www.w3.org/1999/xhtml\" method=\"GET\" url=\"http://localhost:3000/affordances/smart-farming/soilChecker/boundaries\" output_type=\"object\"></mutation>\n                    <field name=\"thingId\">soilChecker</field>\n                    <field name=\"affordanceName\">boundaries</field>\n                    <value name=\"result\">\n                      <block type=\"object_create\">\n                        <statement name=\"fields\">\n                          <block type=\"object_field\">\n                            <field name=\"key\">xMin</field>\n                            <field name=\"type\">integer</field>\n                            <value name=\"value\">\n                              <block type=\"variable\">\n                                <field name=\"value\">XMin</field>\n                              </block>\n                            </value>\n                            <next>\n                              <block type=\"object_field\">\n                                <field name=\"key\">xMax</field>\n                                <field name=\"type\">integer</field>\n                                <value name=\"value\">\n                                  <block type=\"variable\">\n                                    <field name=\"value\">XMax</field>\n                                  </block>\n                                </value>\n                                <next>\n                                  <block type=\"object_field\">\n                                    <field name=\"key\">yMin</field>\n                                    <field name=\"type\">integer</field>\n                                    <value name=\"value\">\n                                      <block type=\"variable\">\n                                        <field name=\"value\">YMin</field>\n                                      </block>\n                                    </value>\n                                    <next>\n                                      <block type=\"object_field\">\n                                        <field name=\"key\">yMax</field>\n                                        <field name=\"type\">integer</field>\n                                        <value name=\"value\">\n                                          <block type=\"variable\">\n                                            <field name=\"value\">YMax</field>\n                                          </block>\n                                        </value>\n                                      </block>\n                                    </next>\n                                  </block>\n                                </next>\n                              </block>\n                            </next>\n                          </block>\n                        </statement>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n                <next>\n                  <block type=\"belief_add\">\n                    <value name=\"belief\">\n                      <block type=\"predicate\">\n                        <mutation terms=\"1\"></mutation>\n                        <field name=\"functor\">x_max</field>\n                        <field name=\"END\">)</field>\n                        <value name=\"term0\">\n                          <block type=\"variable\">\n                            <field name=\"value\">XMax</field>\n                          </block>\n                        </value>\n                      </block>\n                    </value>\n                    <next>\n                      <block type=\"belief_add\">\n                        <value name=\"belief\">\n                          <block type=\"predicate\">\n                            <mutation terms=\"1\"></mutation>\n                            <field name=\"functor\">y_max</field>\n                            <field name=\"END\">)</field>\n                            <value name=\"term0\">\n                              <block type=\"variable\">\n                                <field name=\"value\">YMax</field>\n                              </block>\n                            </value>\n                          </block>\n                        </value>\n                        <next>\n                          <block type=\"goal_add_parallel\">\n                            <value name=\"goal\">\n                              <block type=\"predicate\">\n                                <mutation terms=\"0\"></mutation>\n                                <field name=\"functor\">scan_field</field>\n                                <field name=\"END\"></field>\n                              </block>\n                            </value>\n                          </block>\n                        </next>\n                      </block>\n                    </next>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"950\" y=\"290\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"0\"></mutation>\n            <field name=\"functor\">set_irrigation_complete</field>\n            <field name=\"END\"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_always\"></block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"belief_add\">\n        <value name=\"belief\">\n          <block type=\"predicate\">\n            <mutation terms=\"0\"></mutation>\n            <field name=\"functor\">irrigation_complete</field>\n            <field name=\"END\"></field>\n          </block>\n        </value>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"670\" y=\"550\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"2\"></mutation>\n            <field name=\"functor\">scan_row</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">Y</field>\n              </block>\n            </value>\n            <value name=\"term1\">\n              <block type=\"variable\">\n                <field name=\"value\">Direction</field>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_if\">\n        <value name=\"context\">\n          <block type=\"statement_and_or\">\n            <field name=\"symbol\">&amp;</field>\n            <value name=\"statement1\">\n              <block type=\"predicate\">\n                <mutation terms=\"1\"></mutation>\n                <field name=\"functor\">y_in_bound</field>\n                <field name=\"END\">)</field>\n                <value name=\"term0\">\n                  <block type=\"variable\">\n                    <field name=\"value\">Y</field>\n                  </block>\n                </value>\n              </block>\n            </value>\n            <value name=\"statement2\">\n              <block type=\"statement\">\n                <field name=\"symbol\">==</field>\n                <value name=\"statement1\">\n                  <block type=\"variable\">\n                    <field name=\"value\">Direction</field>\n                  </block>\n                </value>\n                <value name=\"statement2\">\n                  <block type=\"number\">\n                    <field name=\"value\">1</field>\n                  </block>\n                </value>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"goal_add\">\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"3\"></mutation>\n            <field name=\"functor\">scan_column</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">Y</field>\n              </block>\n            </value>\n            <value name=\"term1\">\n              <block type=\"number\">\n                <field name=\"value\">0</field>\n              </block>\n            </value>\n            <value name=\"term2\">\n              <block type=\"variable\">\n                <field name=\"value\">Direction</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <next>\n          <block type=\"goal_add\">\n            <value name=\"goal\">\n              <block type=\"predicate\">\n                <mutation terms=\"2\"></mutation>\n                <field name=\"functor\">scan_row</field>\n                <field name=\"END\">)</field>\n                <value name=\"term0\">\n                  <block type=\"operation\">\n                    <field name=\"symbol\">+</field>\n                    <value name=\"var1\">\n                      <block type=\"variable\">\n                        <field name=\"value\">Y</field>\n                      </block>\n                    </value>\n                    <value name=\"var2\">\n                      <block type=\"number\">\n                        <field name=\"value\">1</field>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n                <value name=\"term1\">\n                  <block type=\"operation\">\n                    <field name=\"symbol\">*</field>\n                    <value name=\"var1\">\n                      <block type=\"variable\">\n                        <field name=\"value\">Direction</field>\n                      </block>\n                    </value>\n                    <value name=\"var2\">\n                      <block type=\"number\">\n                        <field name=\"value\">-1</field>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n              </block>\n            </value>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"30\" y=\"630\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"0\"></mutation>\n            <field name=\"functor\">scan_field</field>\n            <field name=\"END\"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_always\"></block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"affordance_use\">\n        <value name=\"affordance\">\n          <block type=\"affordance_action\">\n            <mutation xmlns=\"http://www.w3.org/1999/xhtml\" method=\"POST\" url=\"http://localhost:3000/affordances/smart-farming/soilChecker/gohome\" output_type=\"number\" input=\"false\" output=\"true\"></mutation>\n            <field name=\"thingId\">soilChecker</field>\n            <field name=\"affordanceName\">goHome</field>\n            <value name=\"output\">\n              <block type=\"variable\">\n                <field name=\"value\">T</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <next>\n          <block type=\"action_wait\">\n            <value name=\"seconds\">\n              <block type=\"variable\">\n                <field name=\"value\">T</field>\n              </block>\n            </value>\n            <next>\n              <block type=\"send_agent_message\">\n                <field name=\"receiver\">irrigator</field>\n                <field name=\"illocutionary_force\">achieve</field>\n                <value name=\"message\">\n                  <block type=\"predicate\">\n                    <mutation terms=\"1\"></mutation>\n                    <field name=\"functor\">set_scan_complete</field>\n                    <field name=\"END\">)</field>\n                    <value name=\"term0\">\n                      <block type=\"true_false\">\n                        <field name=\"value\">false</field>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n                <next>\n                  <block type=\"goal_add\">\n                    <value name=\"goal\">\n                      <block type=\"predicate\">\n                        <mutation terms=\"2\"></mutation>\n                        <field name=\"functor\">scan_row</field>\n                        <field name=\"END\">)</field>\n                        <value name=\"term0\">\n                          <block type=\"number\">\n                            <field name=\"value\">0</field>\n                          </block>\n                        </value>\n                        <value name=\"term1\">\n                          <block type=\"atom\">\n                            <field name=\"value\">1</field>\n                          </block>\n                        </value>\n                      </block>\n                    </value>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"1590\" y=\"750\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"3\"></mutation>\n            <field name=\"functor\">scan_column</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">Y</field>\n              </block>\n            </value>\n            <value name=\"term1\">\n              <block type=\"variable\">\n                <field name=\"value\">X</field>\n              </block>\n            </value>\n            <value name=\"term2\">\n              <block type=\"variable\">\n                <field name=\"value\">Direction</field>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_if\">\n        <value name=\"context\">\n          <block type=\"predicate\">\n            <mutation terms=\"1\"></mutation>\n            <field name=\"functor\">x_in_bound</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">X</field>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"affordance_use\">\n        <value name=\"affordance\">\n          <block type=\"affordance_action\">\n            <mutation xmlns=\"http://www.w3.org/1999/xhtml\" method=\"POST\" url=\"http://localhost:3000/affordances/smart-farming/soilChecker/movetofield\" output_type=\"number\" input=\"true\" output=\"true\"></mutation>\n            <field name=\"thingId\">soilChecker</field>\n            <field name=\"affordanceName\">moveToField</field>\n            <value name=\"input\">\n              <block type=\"object_create\">\n                <statement name=\"fields\">\n                  <block type=\"object_field\">\n                    <field name=\"key\">x</field>\n                    <field name=\"type\">integer</field>\n                    <value name=\"value\">\n                      <block type=\"variable\">\n                        <field name=\"value\">X</field>\n                      </block>\n                    </value>\n                    <next>\n                      <block type=\"object_field\">\n                        <field name=\"key\">y</field>\n                        <field name=\"type\">integer</field>\n                        <value name=\"value\">\n                          <block type=\"variable\">\n                            <field name=\"value\">Y</field>\n                          </block>\n                        </value>\n                      </block>\n                    </next>\n                  </block>\n                </statement>\n              </block>\n            </value>\n            <value name=\"output\">\n              <block type=\"variable\">\n                <field name=\"value\">T</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <next>\n          <block type=\"action_wait\">\n            <value name=\"seconds\">\n              <block type=\"variable\">\n                <field name=\"value\">T</field>\n              </block>\n            </value>\n            <next>\n              <block type=\"goal_add\">\n                <value name=\"goal\">\n                  <block type=\"predicate\">\n                    <mutation terms=\"0\"></mutation>\n                    <field name=\"functor\">check_current_soil</field>\n                    <field name=\"END\"></field>\n                  </block>\n                </value>\n                <next>\n                  <block type=\"goal_add\">\n                    <value name=\"goal\">\n                      <block type=\"predicate\">\n                        <mutation terms=\"3\"></mutation>\n                        <field name=\"functor\">scan_column</field>\n                        <field name=\"END\">)</field>\n                        <value name=\"term0\">\n                          <block type=\"variable\">\n                            <field name=\"value\">Y</field>\n                          </block>\n                        </value>\n                        <value name=\"term1\">\n                          <block type=\"operation\">\n                            <field name=\"symbol\">+</field>\n                            <value name=\"var1\">\n                              <block type=\"variable\">\n                                <field name=\"value\">X</field>\n                              </block>\n                            </value>\n                            <value name=\"var2\">\n                              <block type=\"variable\">\n                                <field name=\"value\">Direction</field>\n                              </block>\n                            </value>\n                          </block>\n                        </value>\n                        <value name=\"term2\">\n                          <block type=\"variable\">\n                            <field name=\"value\">Direction</field>\n                          </block>\n                        </value>\n                      </block>\n                    </value>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"670\" y=\"830\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"2\"></mutation>\n            <field name=\"functor\">scan_row</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">Y</field>\n              </block>\n            </value>\n            <value name=\"term1\">\n              <block type=\"variable\">\n                <field name=\"value\">Direction</field>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_if\">\n        <value name=\"context\">\n          <block type=\"statement_and_or\">\n            <field name=\"symbol\">&amp;</field>\n            <value name=\"statement1\">\n              <block type=\"predicate\">\n                <mutation terms=\"1\"></mutation>\n                <field name=\"functor\">y_in_bound</field>\n                <field name=\"END\">)</field>\n                <value name=\"term0\">\n                  <block type=\"variable\">\n                    <field name=\"value\">Y</field>\n                  </block>\n                </value>\n              </block>\n            </value>\n            <value name=\"statement2\">\n              <block type=\"statement\">\n                <field name=\"symbol\">==</field>\n                <value name=\"statement1\">\n                  <block type=\"variable\">\n                    <field name=\"value\">Direction</field>\n                  </block>\n                </value>\n                <value name=\"statement2\">\n                  <block type=\"number\">\n                    <field name=\"value\">-1</field>\n                  </block>\n                </value>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"goal_add_test\">\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"1\"></mutation>\n            <field name=\"functor\">x_max</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">X</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <next>\n          <block type=\"goal_add\">\n            <value name=\"goal\">\n              <block type=\"predicate\">\n                <mutation terms=\"3\"></mutation>\n                <field name=\"functor\">scan_column</field>\n                <field name=\"END\">)</field>\n                <value name=\"term0\">\n                  <block type=\"variable\">\n                    <field name=\"value\">Y</field>\n                  </block>\n                </value>\n                <value name=\"term1\">\n                  <block type=\"variable\">\n                    <field name=\"value\">X</field>\n                  </block>\n                </value>\n                <value name=\"term2\">\n                  <block type=\"variable\">\n                    <field name=\"value\">Direction</field>\n                  </block>\n                </value>\n              </block>\n            </value>\n            <next>\n              <block type=\"goal_add\">\n                <value name=\"goal\">\n                  <block type=\"predicate\">\n                    <mutation terms=\"2\"></mutation>\n                    <field name=\"functor\">scan_row</field>\n                    <field name=\"END\">)</field>\n                    <value name=\"term0\">\n                      <block type=\"operation\">\n                        <field name=\"symbol\">+</field>\n                        <value name=\"var1\">\n                          <block type=\"variable\">\n                            <field name=\"value\">Y</field>\n                          </block>\n                        </value>\n                        <value name=\"var2\">\n                          <block type=\"number\">\n                            <field name=\"value\">1</field>\n                          </block>\n                        </value>\n                      </block>\n                    </value>\n                    <value name=\"term1\">\n                      <block type=\"operation\">\n                        <field name=\"symbol\">*</field>\n                        <value name=\"var1\">\n                          <block type=\"variable\">\n                            <field name=\"value\">Direction</field>\n                          </block>\n                        </value>\n                        <value name=\"var2\">\n                          <block type=\"number\">\n                            <field name=\"value\">-1</field>\n                          </block>\n                        </value>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"2610\" y=\"830\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"0\"></mutation>\n            <field name=\"functor\">check_current_soil</field>\n            <field name=\"END\"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_always\"></block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"affordance_use\">\n        <value name=\"affordance\">\n          <block type=\"affordance_action\">\n            <mutation xmlns=\"http://www.w3.org/1999/xhtml\" method=\"POST\" url=\"http://localhost:3000/affordances/smart-farming/soilChecker/checksoil\" output_type=\"object\" input=\"false\" output=\"true\"></mutation>\n            <field name=\"thingId\">soilChecker</field>\n            <field name=\"affordanceName\">checkSoilHumidity</field>\n            <value name=\"output\">\n              <block type=\"object_create\">\n                <statement name=\"fields\">\n                  <block type=\"object_field\">\n                    <field name=\"key\">humidity</field>\n                    <field name=\"type\">integer</field>\n                    <value name=\"value\">\n                      <block type=\"variable\">\n                        <field name=\"value\">H</field>\n                      </block>\n                    </value>\n                  </block>\n                </statement>\n              </block>\n            </value>\n          </block>\n        </value>\n        <next>\n          <block type=\"goal_add\">\n            <value name=\"goal\">\n              <block type=\"predicate\">\n                <mutation terms=\"1\"></mutation>\n                <field name=\"functor\">evaluate_soil</field>\n                <field name=\"END\">)</field>\n                <value name=\"term0\">\n                  <block type=\"variable\">\n                    <field name=\"value\">H</field>\n                  </block>\n                </value>\n              </block>\n            </value>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"670\" y=\"1150\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"2\"></mutation>\n            <field name=\"functor\">scan_row</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">Y</field>\n              </block>\n            </value>\n            <value name=\"term1\">\n              <block type=\"any_variable\"></block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_if\">\n        <value name=\"context\">\n          <block type=\"no_predicate\">\n            <value name=\"predicate\">\n              <block type=\"predicate\">\n                <mutation terms=\"1\"></mutation>\n                <field name=\"functor\">y_in_bound</field>\n                <field name=\"END\">)</field>\n                <value name=\"term0\">\n                  <block type=\"variable\">\n                    <field name=\"value\">Y</field>\n                  </block>\n                </value>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"affordance_use\">\n        <value name=\"affordance\">\n          <block type=\"affordance_action\">\n            <mutation xmlns=\"http://www.w3.org/1999/xhtml\" method=\"POST\" url=\"http://localhost:3000/affordances/smart-farming/soilChecker/gohome\" output_type=\"number\" input=\"false\" output=\"true\"></mutation>\n            <field name=\"thingId\">soilChecker</field>\n            <field name=\"affordanceName\">goHome</field>\n            <value name=\"output\">\n              <block type=\"variable\">\n                <field name=\"value\">T</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <next>\n          <block type=\"action_wait\">\n            <value name=\"seconds\">\n              <block type=\"variable\">\n                <field name=\"value\">T</field>\n              </block>\n            </value>\n            <next>\n              <block type=\"action_print\">\n                <value name=\"message\">\n                  <block type=\"string\">\n                    <field name=\"value\">Done Scanning!</field>\n                  </block>\n                </value>\n                <next>\n                  <block type=\"send_agent_message\">\n                    <field name=\"receiver\">irrigator</field>\n                    <field name=\"illocutionary_force\">achieve</field>\n                    <value name=\"message\">\n                      <block type=\"predicate\">\n                        <mutation terms=\"1\"></mutation>\n                        <field name=\"functor\">set_scan_complete</field>\n                        <field name=\"END\">)</field>\n                        <value name=\"term0\">\n                          <block type=\"true_false\">\n                            <field name=\"value\">true</field>\n                          </block>\n                        </value>\n                      </block>\n                    </value>\n                    <next>\n                      <block type=\"goal_add_parallel\">\n                        <value name=\"goal\">\n                          <block type=\"predicate\">\n                            <mutation terms=\"0\"></mutation>\n                            <field name=\"functor\">wait_for_new_scan</field>\n                            <field name=\"END\"></field>\n                          </block>\n                        </value>\n                      </block>\n                    </next>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"2610\" y=\"1130\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"1\"></mutation>\n            <field name=\"functor\">evaluate_soil</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">H</field>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_if\">\n        <value name=\"context\">\n          <block type=\"predicate\">\n            <mutation terms=\"1\"></mutation>\n            <field name=\"functor\">soil_to_irrigate</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">H</field>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"affordance_use\">\n        <value name=\"affordance\">\n          <block type=\"affordance_property\">\n            <mutation xmlns=\"http://www.w3.org/1999/xhtml\" method=\"GET\" url=\"http://localhost:3000/affordances/smart-farming/soilChecker/position\" output_type=\"object\"></mutation>\n            <field name=\"thingId\">soilChecker</field>\n            <field name=\"affordanceName\">position</field>\n            <value name=\"result\">\n              <block type=\"object_create\">\n                <statement name=\"fields\">\n                  <block type=\"object_field\">\n                    <field name=\"key\">x</field>\n                    <field name=\"type\">integer</field>\n                    <value name=\"value\">\n                      <block type=\"variable\">\n                        <field name=\"value\">X</field>\n                      </block>\n                    </value>\n                    <next>\n                      <block type=\"object_field\">\n                        <field name=\"key\">y</field>\n                        <field name=\"type\">integer</field>\n                        <value name=\"value\">\n                          <block type=\"variable\">\n                            <field name=\"value\">Y</field>\n                          </block>\n                        </value>\n                      </block>\n                    </next>\n                  </block>\n                </statement>\n              </block>\n            </value>\n          </block>\n        </value>\n        <next>\n          <block type=\"action_print\">\n            <value name=\"message\">\n              <block type=\"string\">\n                <field name=\"value\">NOT OK</field>\n              </block>\n            </value>\n            <next>\n              <block type=\"send_agent_message\">\n                <field name=\"receiver\">irrigator</field>\n                <field name=\"illocutionary_force\">achieve</field>\n                <value name=\"message\">\n                  <block type=\"predicate\">\n                    <mutation terms=\"2\"></mutation>\n                    <field name=\"functor\">set_new_target</field>\n                    <field name=\"END\">)</field>\n                    <value name=\"term0\">\n                      <block type=\"variable\">\n                        <field name=\"value\">X</field>\n                      </block>\n                    </value>\n                    <value name=\"term1\">\n                      <block type=\"variable\">\n                        <field name=\"value\">Y</field>\n                      </block>\n                    </value>\n                  </block>\n                </value>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"1590\" y=\"1250\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"3\"></mutation>\n            <field name=\"functor\">scan_column</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"any_variable\"></block>\n            </value>\n            <value name=\"term1\">\n              <block type=\"variable\">\n                <field name=\"value\">X</field>\n              </block>\n            </value>\n            <value name=\"term2\">\n              <block type=\"any_variable\"></block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_if\">\n        <value name=\"context\">\n          <block type=\"no_predicate\">\n            <value name=\"predicate\">\n              <block type=\"predicate\">\n                <mutation terms=\"1\"></mutation>\n                <field name=\"functor\">x_in_bound</field>\n                <field name=\"END\">)</field>\n                <value name=\"term0\">\n                  <block type=\"variable\">\n                    <field name=\"value\">X</field>\n                  </block>\n                </value>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"action_print\">\n        <value name=\"message\">\n          <block type=\"string\">\n            <field name=\"value\">Scanned a row</field>\n          </block>\n        </value>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"670\" y=\"1490\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"0\"></mutation>\n            <field name=\"functor\">wait_for_new_scan</field>\n            <field name=\"END\"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_if\">\n        <value name=\"context\">\n          <block type=\"predicate\">\n            <mutation terms=\"0\"></mutation>\n            <field name=\"functor\">irrigation_complete</field>\n            <field name=\"END\"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"belief_remove\">\n        <value name=\"belief\">\n          <block type=\"predicate\">\n            <mutation terms=\"0\"></mutation>\n            <field name=\"functor\">irrigation_complete</field>\n            <field name=\"END\"></field>\n          </block>\n        </value>\n        <next>\n          <block type=\"goal_add_parallel\">\n            <value name=\"goal\">\n              <block type=\"predicate\">\n                <mutation terms=\"0\"></mutation>\n                <field name=\"functor\">scan_field</field>\n                <field name=\"END\"></field>\n              </block>\n            </value>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"2610\" y=\"1570\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"1\"></mutation>\n            <field name=\"functor\">evaluate_soil</field>\n            <field name=\"END\">)</field>\n            <value name=\"term0\">\n              <block type=\"variable\">\n                <field name=\"value\">H</field>\n              </block>\n            </value>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_always\"></block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"action_print\">\n        <value name=\"message\">\n          <block type=\"string\">\n            <field name=\"value\">OK</field>\n          </block>\n        </value>\n      </block>\n    </statement>\n  </block>\n  <block type=\"plan_define\" x=\"670\" y=\"1690\">\n    <value name=\"trigger\">\n      <block type=\"trigger_goal_add_remove\">\n        <field name=\"option\">+!</field>\n        <value name=\"goal\">\n          <block type=\"predicate\">\n            <mutation terms=\"0\"></mutation>\n            <field name=\"functor\">wait_for_new_scan</field>\n            <field name=\"END\"></field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"context\">\n      <block type=\"context_always\"></block>\n    </value>\n    <statement name=\"body\">\n      <block type=\"action_wait\">\n        <value name=\"seconds\">\n          <block type=\"number\">\n            <field name=\"value\">5</field>\n          </block>\n        </value>\n        <next>\n          <block type=\"goal_add_parallel\">\n            <value name=\"goal\">\n              <block type=\"predicate\">\n                <mutation terms=\"0\"></mutation>\n                <field name=\"functor\">wait_for_new_scan</field>\n                <field name=\"END\"></field>\n              </block>\n            </value>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n</xml>",
  "__v": 0
}]